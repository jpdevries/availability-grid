!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=c(1).getClosest,e=c(2).getSiblings,f=(c(3),c(4)),g=function(a){this.opts=Object.assign({},{selector:".availability-grid",inputSelector:'input[type="checkbox"]',whenTextSelector:"span.a11y-hidden"},a),this.lastFocusedInput=null,this.shiftKeyDown=!1,this.init()};g.prototype.init=function(){this.keyCoords={x:0,y:0},this.entity=document.querySelector(this.opts.selector),this.addListeners();try{this._doInputFocus(this.entity.querySelector("tbody input:focus"))}catch(a){}},g.prototype.destroy=function(){this.removeListeners()},g.prototype.inverse=function(){for(var a=this.entity.querySelectorAll('tbody input[type="checkbox"]'),b=0;b<a.length;b++){var c=a[b];c.checked=!c.checked}},g.prototype.addListeners=function(){this.addKeyboardListeners(),this.addInputListeners()},g.prototype.removeListeners=function(){this.removeKeyboardListeners(),this.removeInputListeners()},g.prototype.addKeyboardListeners=function(){var a=document.querySelector(this.opts.selector);a.addEventListener("keydown",this.handleKeyPress.bind(this),!1),a.addEventListener("keyup",this.handleKeyUp.bind(this),!1)},g.prototype.removeKeyboardListeners=function(){var a=document.querySelector(this.opts.selector);a.removeEventListener("keydown",this.handleKeyPress.bind(this),!1),a.removeEventListener("keyup",this.handleKeyUp.bind(this),!1)},g.prototype.addInputListeners=function(){for(var a=this.entity.querySelectorAll(this.opts.inputSelector),b=0;b<a.length;b++){var c=a[b];c.addEventListener("change",this.handleInputChange.bind(this)),c.addEventListener("focus",this.handleInputFocus.bind(this))}},g.prototype.handleInputChange=function(a){var b=e(a.target)[0],c=b.querySelector(this.opts.whenTextSelector);a.target.focus(),c.innerHTML=a.target.checked?c.innerHTML=c.getAttribute("data-checked-time"):c.innerHTML=c.getAttribute("data-unchecked-time")},g.prototype.removeInputListeners=function(){for(var a=this.entity.querySelectorAll(this.opts.inputSelector),b=0;b<a.length;b++){var c=a[b];c.removeEventListener("change",this.handleInputChange.bind(this)),c.removeEventListener("focus",this.handleInputFocus.bind(this))}},g.prototype._doInputFocus=function(a){function b(){for(var a=document.querySelectorAll(".selected"),b=0;b<a.length;b++)a[b].classList.remove("selected")}var c=d(a,"td"),e=d(a,"tr"),g=d(e,"tbody"),h=(f(e),e.getAttribute("data-time")),i=this;f(c);i.shiftKeyDown&&!function(){function b(a){return Array.from(new Set(a))}function h(a,b){return a===b?0:a>b?1:-1}for(var j=document.querySelector('input[name="'+i.lastFocusedInput+'"]'),k=d(j,"td"),l=d(j,"tr"),m=(f(l),b([f(k),f(c)]).sort(h)),n=b([f(l),f(e)]).sort(h),o=a.checked,p=m[0];p<=m[m.length-1];p++)for(var q=n[0];q<=n[n.length-1];q++)try{g.querySelector('tr[data-time="'+q+'"]').querySelector('td[data-index="'+p+'"]').querySelector('input[type="checkbox"]').checked=o}catch(r){}}(),this.keyCoords.x=f(c),this.keyCoords.y=parseInt(h),b(),e.classList.add("selected"),c.classList.add("selected"),this.lastFocusedInput=a.getAttribute("name")},g.prototype.handleInputFocus=function(a){this._doInputFocus(a.target)},g.prototype.handleKeyPress=function(a){function b(){var a=d.querySelector('tbody tr[data-time="'+c.keyCoords.y+'"]'),b=a.querySelector('td[data-index="'+c.keyCoords.x+'"]');b.querySelector("input").focus()}var c=this,d=document.querySelector(this.opts.selector),e=d.querySelectorAll("tbody tr"),f=e[0].querySelectorAll("td").length;switch(a.which){case 16:c.shiftKeyDown=!0;break;case 38:a.preventDefault(),c.keyCoords.y=Math.max(0,c.keyCoords.y-1),b();break;case 39:a.preventDefault(),c.keyCoords.x=Math.min(f-1,c.keyCoords.x+1),b();break;case 40:a.preventDefault(),c.keyCoords.y=Math.min(e.length-1,c.keyCoords.y+1),b();break;case 37:a.preventDefault(),c.keyCoords.x=Math.max(0,c.keyCoords.x-1),b()}},g.prototype.handleKeyUp=function(a){16==a.which&&(this.shiftKeyDown=!1)},b.AvailabilityGrid=g},function(a,b){"use strict";var c=function(a,b){var c,d,e=b.charAt(0),f="classList"in document.documentElement;for("["===e&&(b=b.substr(1,b.length-2),c=b.split("="),c.length>1&&(d=!0,c[1]=c[1].replace(/"/g,"").replace(/'/g,"")));a&&a!==document&&1===a.nodeType;a=a.parentNode){if("."===e)if(f){if(a.classList.contains(b.substr(1)))return a}else if(new RegExp("(^|\\s)"+b.substr(1)+"(\\s|$)").test(a.className))return a;if("#"===e&&a.id===b.substr(1))return a;if("["===e&&a.hasAttribute(c[0])){if(!d)return a;if(a.getAttribute(c[0])===c[1])return a}if(a.tagName.toLowerCase()===b)return a}return null};b.getClosest=c},function(a,b){"use strict";var c=function(a){for(var b=[],c=a.parentNode.firstChild;c;c=c.nextSibling)1===c.nodeType&&c!==a&&b.push(c);return b};b.getSiblings=c},function(a,b){"use strict";function c(a){var b,c,e=[];if("object"==("undefined"==typeof a?"undefined":d(a))&&"FORM"==a.nodeName)for(var f=a.elements.length,g=0;f>g;g++)if(b=a.elements[g],b.name&&!b.disabled&&"file"!=b.type&&"reset"!=b.type&&"submit"!=b.type&&"button"!=b.type)if("select-multiple"==b.type)for(c=a.elements[g].options.length,j=0;j<c;j++)b.options[j].selected&&(e[e.length]={name:b.name,value:b.options[j].value});else("checkbox"!=b.type&&"radio"!=b.type||b.checked)&&(e[e.length]={name:b.name,value:b.value});return e}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};a.exports=c},function(a,b){"use strict";function c(a){for(var b=a.parentNode.childNodes,c=0,d=0;d<b.length;d++){if(b[d]==a)return c;1==b[d].nodeType&&c++}return-1}a.exports=c}]);